# Do NOT edit this file unless you really know what you are doing
SET(CMAKE_COLOR_MAKEFILE ON)
cmake_minimum_required(VERSION 3.16)
cmake_policy(SET CMP0076 NEW)

if(TARGET cpp-utils)
	return()
endif()

# Set project name
project(cpp-utils VERSION 1.0 DESCRIPTION "Various C++ utilities" LANGUAGES C CXX) #C specified so MPI_C_<...> is found as well
message(STATUS "Configuring cpp-utils")

include(cmake/Message-Functions.cmake)
if(PROJECT_IS_TOP_LEVEL)
	message(FATAL_ERROR "cpp-utils cannot be a TOP LEVEL project")
endif()

#############################

# Add the cpp-utils header-only library
set(target cpp-utils)
add_library(${target} INTERFACE)
set_target_properties(${target} PROPERTIES LINKER_LANGUAGE CXX)
target_include_directories(${target} INTERFACE "$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>")
target_include_directories(${target} INTERFACE "$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/submodules/csv-parser/single_include>")
if(MPI_FOUND)
	target_link_libraries(${target} INTERFACE MPI::MPI_C)
endif()
if(GDAL_FOUND)
	target_link_libraries(${target} INTERFACE GDAL::GDAL)
endif()
if(CGAL_FOUND)
	target_link_libraries(${target} INTERFACE CGAL::CGAL)
endif()
